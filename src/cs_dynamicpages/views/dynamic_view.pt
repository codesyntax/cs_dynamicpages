<html xmlns="http://www.w3.org/1999/xhtml" xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xmlns:metal="http://xml.zope.org/namespaces/metal" xmlns:tal="http://xml.zope.org/namespaces/tal"
  metal:use-macro="context/main_template/macros/master" i18n:domain="cs_dynamicpages">

<body>
  <metal:main fill-slot="main">
    <main id="content">
      <tal:features define="
                        features view/features;
                      ">
        <tal:featured repeat="brain features">
          <div tal:define="featured brain/getObject;">
            <section class="dynamic-row state-${featured/review_state}">
              <div class="edit-buttons d-flex gap-2" tal:condition="featured/can_edit">
                <a class="btn btn-outline-primary btn-sm align-self-start" href="${featured/absolute_url}">View</a>
                <a class="btn btn-outline-primary btn-sm align-self-start" href="${featured/absolute_url}/edit">Edit</a>
                <a class="btn btn-outline-primary btn-sm align-self-start" href="${featured/absolute_url}">Move up</a>
                <a class="btn btn-outline-primary btn-sm align-self-start" href="${featured/absolute_url}">Move down</a>
                <small
                  class="d-inline-flex ms-auto mb-3 px-2 py-1 fw-semibold text-warning-emphasis bg-warning-subtle border border-warning-subtle rounded-2 position-relative">
                  Review state: ${featured/review_state}
                  <span
                    tal:attributes="class python:featured.review_state() == 'published' and 'position-absolute top-0 start-100 translate-middle p-2 bg-success border border-light rounded-circle' or 'position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle'">
                  </span>
                </small>
              </div>
              <div class="content">
                <replace tal:replace="structure python:featured.render(request)"></replace>
              </div>
            </section>
          </div>
        </tal:featured>
      </tal:features>
    </main>
  </metal:main>
</body>

</html>